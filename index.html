<!DOCTYPE html>
<html>
    <head>
        <title>
            Looking Glass Tutorial
        </title>
        <style>
            body{
                margin: 0;
            }
            canvas{
                width: 100%;
                height: 100%;
            }
        </style>

        <script src="./node_modules/three/build/three.js"></script>
        <script type="module" src="./node_modules/holoplay/dist/holoplay.module.js"></script>

        <reference path="./node_modules/@types/index.d.ts"></reference>
    </head>

    <body>
        <script type="module">
            import * as HoloPlay from "./node_modules/holoplay/dist/holoplay.module.js";

            const scene = new THREE.Scene();
            const camera = new HoloPlay.Camera();
            const renderer = new HoloPlay.Renderer();
            document.body.appendChild(renderer.domElement);

            const sphere = new THREE.Mesh(
                new THREE.SphereBufferGeometry(0.02),
                new THREE.MeshLambertMaterial({color: 'green'}));
            scene.add(sphere);

            const directionalLight = new THREE.DirectionalLight(0xFFFFFF, 1);
            directionalLight.position.set(0, 1, 2);
            scene.add(directionalLight);

            const ambientLight = new THREE.AmbientLight(0xFFFFFF, 0.4);
            scene.add(ambientLight);

            document.body.appendChild(renderer.domElement);

            function update(time) {
                requestAnimationFrame(update);
                sphere.position.x = Math.sin(time / 1000) / 20;
                renderer.render(scene, camera);
            }
            requestAnimationFrame(update);
            
        </script>

    </body>
</html>